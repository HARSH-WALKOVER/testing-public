(() => {
  var Y = Object.create;
  var b = Object.defineProperty;
  var G = Object.getOwnPropertyDescriptor;
  var H = Object.getOwnPropertyNames;
  var z = Object.getPrototypeOf,
    F = Object.prototype.hasOwnProperty;
  var f = (e, t) => () => t || e((t = { exports: {} }).exports, t), t.exports;
  var J = (e, t, n, i) => {
    if ((t && typeof t == 'object') || typeof t == 'function')
      for (let r of H(t))
        !F.call(e, r) &&
          r !== n &&
          b(e, r, {
            get: () => t[r],
            enumerable: !(i = G(t, r)) || i.enumerable,
          });
    return e;
  };
  var Q = (e, t, n) => (
    (n = e != null ? Y(z(e)) : {}),
    J(
      t || !e || !e.__esModule
        ? b(n, 'default', { value: e, enumerable: !0 })
        : n,
      e
    )
  );
  var O = f((E) => {
    'use strict';
    Object.defineProperty(E, '__esModule', { value: !0 });
    E.settings = void 0;
    function R() {
      return process.env.NEXT_PUBLIC_EVENTS_TOOLKIT_EMIT_API
        ? process.env.NEXT_PUBLIC_EVENTS_TOOLKIT_EMIT_API
        : process.env.EVENTS_TOOLKIT_EMIT_API
        ? process.env.EVENTS_TOOLKIT_EMIT_API
        : (console.error(
            'Toolkit emit API is not set. The emit API can be configured via the NEXT_PUBLIC_EVENTS_TOOLKIT_EMIT_API or EVENTS_TOOLKIT_EMIT_API environment variables. Falling back to production endpoint: https://zapier.com/api/v4/tracking/event/'
          ),
          'https://zapier.com/api/v4/tracking/event/');
    }
    function Z() {
      return process.env.NEXT_PUBLIC_EVENTS_TOOLKIT_WRITE_TO_DATA_LAYER
        ? process.env.NEXT_PUBLIC_EVENTS_TOOLKIT_WRITE_TO_DATA_LAYER
        : process.env.EVENTS_TOOLKIT_WRITE_TO_DATA_LAYER
        ? process.env.EVENTS_TOOLKIT_WRITE_TO_DATA_LAYER
        : 'false';
    }
    E.settings = {
      streaming_service: process.env.EVENTS_TOOLKIT_STREAMING_SERVICE
        ? process.env.EVENTS_TOOLKIT_STREAMING_SERVICE
        : 'api',
      emit_api: R(),
      domain: new URL(R()).hostname,
      write_to_data_layer: Z(),
    };
  });
  var h = f((s) => {
    'use strict';
    Object.defineProperty(s, '__esModule', { value: !0 });
    s.querystringToObj = s.isInPopup = s.isInIframe = s.isBrowser = void 0;
    var ee = () => typeof window < 'u';
    s.isBrowser = ee;
    var te = () => {
      if (!s.isBrowser()) return !1;
      try {
        return window.self !== window.top;
      } catch {
        return !0;
      }
    };
    s.isInIframe = te;
    var ne = () => s.isBrowser() && !!window.opener;
    s.isInPopup = ne;
    var ie = (e) => {
      var t, n;
      let i =
        (n =
          e ??
          ((t = window?.location) === null || t === void 0
            ? void 0
            : t.search)) !== null && n !== void 0
          ? n
          : '';
      i.startsWith('?') && (i = i.substr(1)), (i = decodeURIComponent(i));
      for (var r = i.split('&'), o = {}, a = 0; a < r.length; a++) {
        var c = r[a].split('=', 2);
        o[c[0]] = c[1];
      }
      return o;
    };
    s.querystringToObj = ie;
  });
  var y = f((_) => {
    'use strict';
    Object.defineProperty(_, '__esModule', { value: !0 });
    _.getSessionId = _.getVisitorId = void 0;
    var M = O(),
      U = h(),
      k = 'session_id',
      C = 'visitor_id';
    function B(e) {
      var t;
      let n =
        (t = document.cookie) === null || t === void 0
          ? void 0
          : t.match(
              new RegExp(
                '(?:^|; )' +
                  e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') +
                  '=([^;]*)'
              )
            );
      return n ? decodeURIComponent(n[1]) : void 0;
    }
    var L = (e = '') => {
      var t;
      return e
        ? (
            Number(e) ^
            (((t = window.crypto) === null || t === void 0
              ? void 0
              : t.getRandomValues(new Uint8Array(1))[0]) &
              (15 >> (Number(e) / 4)))
          ).toString(16)
        : `${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g, L);
    };
    function oe() {
      if (U.isBrowser()) {
        var e = B(C);
        return (
          e ||
            ((e = L()),
            (document.cookie =
              C +
              '=' +
              e +
              ';domain=' +
              M.settings.domain +
              ';path=/;max-age=5897232000')),
          e
        );
      } else return;
    }
    _.getVisitorId = oe;
    function re() {
      if (U.isBrowser()) {
        var e = B(k);
        return (
          e || (e = L()),
          (document.cookie =
            k +
            '=' +
            e +
            ';domain=' +
            M.settings.domain +
            ';path=/;max-age=3600'),
          e
        );
      } else return;
    }
    _.getSessionId = re;
  });
  var D = f((m) => {
    'use strict';
    var se =
      (m && m.__awaiter) ||
      function (e, t, n, i) {
        function r(o) {
          return o instanceof n
            ? o
            : new n(function (a) {
                a(o);
              });
        }
        return new (n || (n = Promise))(function (o, a) {
          function c(u) {
            try {
              l(i.next(u));
            } catch (d) {
              a(d);
            }
          }
          function T(u) {
            try {
              l(i.throw(u));
            } catch (d) {
              a(d);
            }
          }
          function l(u) {
            u.done ? o(u.value) : r(u.value).then(c, T);
          }
          l((i = i.apply(e, t || [])).next());
        });
      };
    Object.defineProperty(m, '__esModule', { value: !0 });
    m.emit = void 0;
    var j = O(),
      w = h(),
      I = P(),
      ae = y(),
      q = I.visitorId + '-previous-location',
      W = I.visitorId + '-next-page-view-referrer',
      ue = 'web_analytics.tracking.page_view.PageViewEvent';
    function ce(e) {
      window.sessionStorage.setItem(q, e);
    }
    function K() {
      return window.sessionStorage.getItem(q) || document.referrer;
    }
    function le(e) {
      window.sessionStorage.setItem(W, e);
    }
    function de() {
      return window.sessionStorage.getItem(W) || document.referrer;
    }
    function _e(e, t) {
      let n = null,
        i = null,
        r = null,
        o = null,
        a = null,
        c = null,
        T = null,
        l = null,
        u = null,
        d = null,
        A = null,
        N = null,
        S = null,
        V = null,
        g = null;
      if (w.isBrowser()) {
        (l = window.location.hostname),
          (c = window.location.href),
          (n = window.location.pathname),
          (T = window.location.search),
          (a = window.navigator.userAgent);
        var p = w.querystringToObj(T);
        (u = p.utm_campaign),
          (d = p.utm_content),
          (A = p.utm_medium),
          (N = p.utm_source);
        let X =
            window.innerWidth ||
            document.documentElement.clientWidth ||
            document.body.clientWidth,
          x =
            window.innerHeight ||
            document.documentElement.clientHeight ||
            document.body.clientHeight;
        (i = `${X}x${x}`),
          (r = w.isInIframe()),
          (o = w.isInPopup()),
          (S = I.visitorId),
          (V = ae.getSessionId()),
          t == ue ? (ce(de()), (g = K()), le(c)) : (g = K());
      }
      return Object.assign(Object.assign({}, e), {
        fully_qualified_domain_name: l,
        url_address: c,
        query_string: T,
        page_path: n,
        screen_size: i,
        iframe_flag: r,
        popup_flag: o,
        user_agent: a,
        utm_content: d,
        utm_medium: A,
        utm_source: N,
        utm_campaign: u,
        visitor_id: S,
        referer: g,
        session_id: V,
      });
    }
    function me(e) {
      w.isBrowser() &&
        j.settings.write_to_data_layer === 'true' &&
        ((window.dataLayer = window.dataLayer || []),
        window.dataLayer.push({
          event: 'analyticsEvent',
          eventLabel: e,
          visitorId: I.visitorId,
        }));
    }
    function ve(e, t) {
      return se(this, void 0, void 0, function* () {
        var n = !0,
          i = void 0;
        try {
          i = _e(e, t);
          var r = {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            Accept: 'application/json',
          };
          let o = yield fetch(j.settings.emit_api, {
            body: JSON.stringify({ properties: i, subject: t }),
            credentials: 'include',
            headers: r,
            method: 'POST',
          });
          o.status !== 200
            ? (console.warn('Unable to emit event:', o), (n = !1))
            : me(t);
        } catch (o) {
          console.warn('Unable to emit event:', o), (n = !1);
        }
        return [n, i];
      });
    }
    m.emit = ve;
  });
  var P = f((v) => {
    'use strict';
    Object.defineProperty(v, '__esModule', { value: !0 });
    v.emit = v.visitorId = void 0;
    var Te = y();
    v.visitorId = Te.getVisitorId();
    var fe = D();
    Object.defineProperty(v, 'emit', {
      enumerable: !0,
      get: function () {
        return fe.emit;
      },
    });
  });
  var $ = Q(P());
  document.addEventListener('DOMContentLoaded', async function () {
    await (0,
    $.emit)({ system_name: 'developer_docs' }, 'web_analytics.tracking.page_view.PageViewEvent');
  });
})();
